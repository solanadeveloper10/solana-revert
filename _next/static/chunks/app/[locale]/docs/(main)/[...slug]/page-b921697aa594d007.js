(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2766,3902,5015,9181,9312,9480],{41688:(e,s,n)=>{Promise.resolve().then(n.bind(n,52046)),Promise.resolve().then(n.bind(n,74306)),Promise.resolve().then(n.bind(n,21778)),Promise.resolve().then(n.bind(n,38070)),Promise.resolve().then(n.bind(n,15673)),Promise.resolve().then(n.bind(n,29697)),Promise.resolve().then(n.bind(n,59361)),Promise.resolve().then(n.bind(n,97459)),Promise.resolve().then(n.bind(n,53757)),Promise.resolve().then(n.bind(n,45626)),Promise.resolve().then(n.bind(n,48882)),Promise.resolve().then(n.bind(n,78830)),Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.t.bind(n,33063,23)),Promise.resolve().then(n.bind(n,86849)),Promise.resolve().then(n.bind(n,67147)),Promise.resolve().then(n.bind(n,55310)),Promise.resolve().then(n.bind(n,22018)),Promise.resolve().then(n.bind(n,92754)),Promise.resolve().then(n.bind(n,12547)),Promise.resolve().then(n.bind(n,32273)),Promise.resolve().then(n.bind(n,29844)),Promise.resolve().then(n.bind(n,22370)),Promise.resolve().then(n.bind(n,72346)),Promise.resolve().then(n.bind(n,30676)),Promise.resolve().then(n.bind(n,46583)),Promise.resolve().then(n.bind(n,34525)),Promise.resolve().then(n.bind(n,96467)),Promise.resolve().then(n.bind(n,84092)),Promise.resolve().then(n.bind(n,63862)),Promise.resolve().then(n.bind(n,65781)),Promise.resolve().then(n.bind(n,55607)),Promise.resolve().then(n.bind(n,80997))},63862:(e,s,n)=>{"use strict";n.d(s,{Rate:()=>v});var r=n(95155),t=n(73751),i=n(7936),o=n(9131),l=n(86566),a=n(50172),d=n(12115),c=n(58756),m=n(74466),h=n(35695),b=n(30961);let u=(0,m.F)("inline-flex items-center gap-2 px-3 py-2 rounded-full font-medium border text-sm [&_svg]:size-4 disabled:cursor-not-allowed",{variants:{active:{true:"bg-fd-accent text-fd-accent-foreground [&_svg]:fill-current",false:"text-fd-muted-foreground"}}});function v(e){let{onRateAction:s}=e,n=(0,h.usePathname)(),[t,i]=(0,d.useState)(null),[o,l]=(0,d.useState)(""),[a,m]=(0,d.useState)(""),[b,u]=(0,d.useState)(!1),[v,P]=(0,d.useState)(!1);async function g(e){if(e.preventDefault(),o.trim()){u(!0),m("");try{let e=(await s(n,{opinion:t,message:o})).getReader(),r=!0;for(;;){let{done:s,value:n}=await e.read();if(s)break;m(e=>e+n),r&&(u(!1),r=!1)}}catch(e){console.error("Error processing stream:",e),m("Error processing your feedback. Please try again.")}finally{u(!1)}}}return(0,r.jsx)("div",{className:"flex flex-col gap-2",children:(0,r.jsxs)(c.Nt,{open:null!==t||""!==a,onOpenChange:e=>{e||i(null)},className:"border-y py-3",children:[(0,r.jsx)(x,{opinion:t,isDisabled:""!==a,onSetOpinion:i}),(0,r.jsx)(c.Ke,{className:"mt-3",children:v?(0,r.jsx)(p,{response:a,onMoreFeedback:()=>{P(!1),l(""),m("")}}):(0,r.jsx)(f,{message:o,hasContent:""!==a,isStreaming:b,setMessage:l,onSubmit:g,onViewResponse:()=>P(!0)})})]})})}function x(e){let{opinion:s,isDisabled:n,onSetOpinion:i}=e;return(0,r.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium pe-2",children:"Is this page helpful?"}),(0,r.jsx)("button",{disabled:n,className:(0,t.cn)(u({active:"positive"===s})),onClick:()=>i("positive"),children:(0,r.jsx)(o.A,{})}),(0,r.jsx)("button",{disabled:n,className:(0,t.cn)(u({active:"negative"===s})),onClick:()=>i("negative"),children:(0,r.jsx)(l.A,{})})]})}function f(e){let{message:s,hasContent:n,isStreaming:o,setMessage:l,onSubmit:c,onViewResponse:m}=e,h=(0,d.useMemo)(()=>{let e={className:(0,t.cn)((0,i.r)({color:"outline"}),"w-fit px-3")};return o?{...e,type:"button",disabled:!0,children:(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(a.A,{className:"h-3 w-3 mr-2 animate-spin"}),"Searching for additional resources you might find helpful..."]})}:n?{...e,type:"button",onClick:m,children:"View Response"}:{...e,type:"submit",disabled:!s.trim(),children:"Submit"}},[n,o,s,m]);return(0,r.jsxs)("form",{onSubmit:c,className:"flex flex-col gap-3",children:[(0,r.jsx)("textarea",{autoFocus:!0,value:s,onChange:e=>l(e.target.value),className:"border rounded-lg bg-fd-secondary p-3 resize-none focus-visible:outline-none text-sm",placeholder:"Please share your feedback to help improve this content.",onKeyDown:e=>{e.shiftKey||"Enter"!==e.key||c(e)}}),(0,r.jsx)("div",{className:"flex gap-2 items-center",children:(0,r.jsx)("button",{...h})})]})}function p(e){let{response:s,onMoreFeedback:n}=e,o=(0,t.cn)((0,i.r)({color:"secondary"}),"text-xs");return(0,r.jsxs)("div",{className:"px-3 py-6 flex flex-col items-center gap-3 bg-fd-card text-sm text-center rounded-xl",children:[(0,r.jsx)("button",{className:o,onClick:n,children:"Have more feedback?"}),(0,r.jsx)(P,{response:s})]})}function P(e){let{response:s}=e;return(0,r.jsx)("div",{className:"px-2 text-left prose prose-sm max-w-none dark:prose-invert",children:(0,r.jsx)(b.oz,{components:{a:e=>{let{...s}=e;return(0,r.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})}},children:s})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[7615,8530,6874,5288,5806,7157,5242,4937,4368,1699,3063,9613,4758,5936,8670,8441,2115,1684,7358],()=>s(41688)),_N_E=e.O()}]);
//# sourceMappingURL=page-b921697aa594d007.js.map